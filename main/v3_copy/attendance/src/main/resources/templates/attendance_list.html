<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>勤怠状況一覧</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/attendance_list.css}">
</head>

<body>
<div class="main-frame">

    <h2>勤怠状況一覧（〇〇部署）</h2>
    <div class="legend">
        <div class="legend-item">
            <span class="legend-box working"></span>
            <span>出勤中</span>
        </div>
        <div class="legend-item">
            <span class="legend-box not-working"></span>
            <span>未出勤</span>
        </div>
    </div>


    <!-- 表示項目選択 -->
    <div class="radio-area">
        <label>
            <input type="checkbox" class="check-item" data-col="work">
            勤務場所
        </label>
        <label>
            <input type="checkbox" class="check-item" data-col="mail">
            メールアドレス
        </label>
        <label>
            <input type="checkbox" class="check-item" data-col="tel">
            電話番号
        </label>
        <label>
            <input type="checkbox" class="check-item" data-col="emergency">
            緊急連絡先
        </label>
        <label>
            <input type="checkbox" id="check-all">
            全て
        </label>
    </div>


    <!-- 一覧 -->
    <table class="list-table">
        <thead>
        <tr>
            <th>名前</th>
            <th class="col-work hidden">勤務場所</th>
            <th class="col-mail hidden">メールアドレス</th>
            <th class="col-tel hidden">電話番号</th>
            <th class="col-emergency hidden">緊急連絡先</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="u : ${users}"
            th:with="att=${@attendanceService.getAttendance(u.userId)}"
            th:classappend="${att != null} ? 'working' : ''">

            <td th:text="${u.name}"></td>

            <td class="col-work hidden"
                th:text="${att != null ? att.workPlace : ''}">
            </td>

            <td class="col-mail hidden" th:text="${u.mailAddress}"></td>
            <td class="col-tel hidden" th:text="${u.telephoneNum}"></td>
            <td class="col-emergency hidden" th:text="${u.emergencyNum}"></td>
        </tr>
        </tbody>
    </table>

    <!-- 戻る -->
    <div class="back-area">
    <button class="back-btn"onclick="location.href='/api/attendance/auth'">
        戻る
    </button>
</div>


</div>

<script src="/js/attendance_list.js"></script>
</body>
</html>
